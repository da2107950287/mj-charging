(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"0c0a":function(t,e,i){t.exports=i.p+"img/fault2.1c37003e.png"},"0cb2":function(t,e,i){var n=i("7b0b"),a=Math.floor,r="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;t.exports=function(t,e,i,c,l,u){var d=i+t.length,f=c.length,h=s;return void 0!==l&&(l=n(l),h=o),r.call(u,h,(function(n,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(d);case"<":o=l[r.slice(1,-1)];break;default:var s=+r;if(0===s)return n;if(s>f){var u=a(s/10);return 0===u?n:u<=f?void 0===c[u-1]?r.charAt(1):c[u-1]+r.charAt(1):n}o=c[s-1]}return void 0===o?"":o}))}},"0fc2":function(t,e,i){},"147c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"success"},[t._m(0),i("div",{staticClass:"num"},[t._v("您的伯乐号："+t._s(t.memberNo))]),i("div",[i("div",{staticClass:"tip"},[t._v("提示：伯乐号将作为登录唯一号，请牢记")]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:function(e){return t.$router.push("/ChargeDetails")}}},[t._v("完成")])],1),"android"==t.type?i("a",{staticClass:"download-app",attrs:{href:t.url1,download:""},on:{click:t.downloadApp}},[t._v("下载App")]):"ios"==t.type?i("a",{staticClass:"download-app",attrs:{href:t.url2},on:{click:t.downloadApp}},[t._v("下载APP")]):t._e()])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"success-top"},[n("img",{attrs:{src:i("4f75"),alt:""}}),n("div",[t._v("注册成功")])])}],r={data:function(){return{memberNo:"",type:"",url1:"",url2:""}},created:function(){this.memberNo=this.$route.query.memberNo;var t=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(t)?this.type="ios":/android/.test(t)&&(this.type="android")},methods:{downloadApp:function(){"ios"==this.type?this.url2="https://apps.apple.com/cn/app/id1481780101?l=zh&amp;ls=1":this.url1="http://app.mi.com/details?id=com.txcbapp&amp;ref=search"}}},o=r,s=(i("9b50"),i("2877")),c=Object(s["a"])(o,n,a,!1,null,"89ca8220",null);e["default"]=c.exports},"181e":function(t,e,i){},"19fa":function(t,e,i){},"1a8a":function(t,e,i){},"1dde":function(t,e,i){var n=i("d039"),a=i("b622"),r=i("2d00"),o=a("species");t.exports=function(t){return r>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e21":function(t,e,i){"use strict";i("fbb7")},2541:function(t,e,i){},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),a=i("825a"),r=i("d039"),o=i("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&n(RegExp.prototype,s,(function(){var t=a(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in c)?o.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},2884:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"藏宝天下","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"login"},[t._m(0),i("div",{staticClass:"center"},[i("van-form",{on:{submit:t.onSubmit}},[i("van-field",{staticClass:"my-input",attrs:{maxlength:"11",type:"tel",placeholder:"请输入伯乐号",rules:t.rulesMobile},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yonghu"})]},proxy:!0}]),model:{value:t.loginName,callback:function(e){t.loginName=e},expression:"loginName"}}),i("van-field",{staticClass:"my-input mt20",attrs:{type:"password",mixlength:"1",maxlength:"16",placeholder:"请输入密码",rules:t.rulesVerify},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-mima1"})]},proxy:!0}]),model:{value:t.passWord,callback:function(e){t.passWord=e},expression:"passWord"}}),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A","native-type":"submit"}},[t._v("开始充电")])],1),i("div",{staticClass:"download-box"},[i("div",{on:{click:function(e){return t.$router.push("/cbtxRegister")}}},[t._v("前往注册")]),i("div",{on:{click:function(e){return t.$router.push("/findNum")}}},[t._v("找回伯乐号")]),"android"==t.type?i("a",{attrs:{href:t.url1,download:""},on:{click:t.downloadApp}},[t._v("下载App")]):"ios"==t.type?i("a",{attrs:{href:t.url2},on:{click:t.downloadApp}},[t._v("下载APP")]):t._e()])],1)],1)])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-box"},[i("div",{staticClass:"mgkc-logo"}),i("div",[t._v("藏宝天下")])])}],r=(i("ac1f"),i("5319"),i("2f14")),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{loginName:"",passWord:"",type:"",url1:"",url2:"",timer:null,rulesMobile:[{required:!0,message:" "}],rulesVerify:[{required:!0,message:" "}]}},watch:{passWord:function(){this.passWord=this.passWord.replace(/[\W]/g,"")},loginName:function(){this.loginName=this.loginName.replace(/[\D]/g,"")}},created:function(){var t=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(t)?this.type="ios":/android/.test(t)&&(this.type="android")},methods:{downloadApp:function(){"ios"==this.type?this.url2="https://apps.apple.com/cn/app/id1481780101?l=zh&amp;ls=1":this.url1="http://app.mi.com/details?id=com.txcbapp&amp;ref=search"},onSubmit:function(){var t=this,e=this.passWord.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$http("/orderlist/treasureWorldLogin",{deviceId:Object(r["a"])("deviceId"),loginName:t.loginName,passWord:e}).then((function(e){clearTimeout(t.timer),200==e.code?(Object(r["d"])("olId",e.data.olId),t.$router.push({path:"/chargeDetails",query:{olId:e.data.olId}})):500==e.code&&t.$toast.fail(e.msg)}))}),1e3)}}},c=s,l=(i("e989"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"1c89fd62",null);e["default"]=u.exports},2909:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t){if(Array.isArray(t))return n(t)}i.d(e,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("fb6a"),i("b0c0"),i("25f0");function o(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||r(t)||o(t)||s()}},"3b8e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[t._m(0),i("div",{staticClass:"center"},[i("van-form",[i("van-field",{staticClass:"my-input",attrs:{maxlength:"11",type:"tel",placeholder:"请输入手机号",rules:t.rulesMobile},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yonghu"})]},proxy:!0}]),model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),i("van-field",{staticClass:"my-input mt20",attrs:{minlength:"1",maxlength:"8",type:"tel",placeholder:"请输入验证码",rules:t.rulesVerify},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-mima1"})]},proxy:!0},{key:"button",fn:function(){return[i("span",{staticClass:"code",on:{click:t.getCode}},[t._v(t._s(t.codeMsg))])]},proxy:!0}]),model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}}),i("div",{staticClass:"tips"},[t._v("请绑定手机号后进行使用")]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:t.onSubmit}},[t._v("绑定手机")])],1)],1)],1)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-box"},[i("div",{staticClass:"mgkc-logo"}),i("div",[t._v("米京快充")])])}],r=(i("ac1f"),i("5319"),i("2f14")),o=(i("e96b"),{data:function(){return{timer:null,mobile:"",verify:"",isCbtx:Object(r["a"])("isCbtx"),codeMsg:"获取验证码",canClick:!0,totalTime:60,deviceId:Object(r["a"])("deviceId"),id:Object(r["a"])("id"),isRegistered:Object(r["a"])("isRegistered"),rulesMobile:[{required:!0,message:" "}],rulesVerify:[{required:!0,message:" "}]}},watch:{verify:function(){this.verify=this.verify.replace(/[\W]/g,"")},mobile:function(){this.mobile=this.mobile.replace(/[\D]/g,"")}},methods:{getCode:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;if(this.canClick){this.canClick=!1,this.codeMsg=this.totalTime+"s";var e=window.setInterval((function(){t.totalTime--,t.codeMsg=t.totalTime+"s",t.totalTime<0&&(window.clearInterval(e),t.codeMsg="重新发送验证码",t.totalTime=60,t.canClick=!0)}),1e3);this.$http("/userinfo/send_sms",{mobile:this.mobile}).then((function(e){200==e.code?t.$toast.success(e.msg):t.$toast.fail(e.msg)}))}},onSubmit:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;var e=this.verify.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");if(""==e)return this.$toast.fail("验证码不能为空"),!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$http("/userinfo/bindAccount",{mobile:t.mobile,verify:e}).then((function(e){clearTimeout(t.timer),200==e.code?(Object(r["d"])("role",e.data.role),Object(r["d"])("token",e.data.token),Object(r["d"])("olId",e.data.olId),Object(r["d"])("mobile",e.data.mobile),t.$nextTick((function(){t.$router.push("/home")}))):500==e.code&&t.$toast.fail(e.msg)}))}),1e3)}}}),s=o,c=(i("9956"),i("2877")),l=Object(c["a"])(s,n,a,!1,null,"d41a6b4a",null);e["default"]=l.exports},"3d93":function(t,e,i){"use strict";var n={mounted:function(){console.log(789),this.pushHistory(),window.addEventListener("popstate",this.onReturnBack,!1)},methods:{pushHistory:function(){var t={title:"title",url:""};window.history.pushState(t,"title","")},onReturnBack:function(){this.$router.push("/home")}},destroyed:function(){window.removeEventListener("popstate",this.onReturnBack,!1)}};e["a"]=n},"44e6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"设备注册","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"register"},[i("div",{staticClass:"title"},[t._v(t._s(t.msg))]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("所属项目：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.hotName))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("SN码：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.deviceId))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("房间号：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.roomId))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("今日新注册：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.registerNumber1))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("累计注册：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.registerNumber2))])]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:function(e){return t.$router.push("/home")}}},[t._v("完成")])],1)])],1)},a=[],r=i("2f14"),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{info:this.$route.query,msg:"",isRegistered:Object(r["a"])("isRegistered")}},created:function(){1==this.isRegistered?this.msg="设备信息更新成功":2==this.isRegistered&&(this.msg="设备注册成功")}},c=s,l=(i("db6d"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"32151209",null);e["default"]=u.exports},"46a2":function(t,e,i){},"498a":function(t,e,i){"use strict";var n=i("23e7"),a=i("58a8").trim,r=i("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return a(this)}})},"4b3d":function(t,e,i){t.exports=i.p+"img/add-picture.8f684955.png"},"4de4":function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").filter,r=i("1dde"),o=i("ae40"),s=r("filter"),c=o("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("0366"),a=i("7b0b"),r=i("9bdd"),o=i("e95a"),s=i("50c4"),c=i("8418"),l=i("35a1");t.exports=function(t){var e,i,u,d,f,h,m=a(t),p="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,b=void 0!==g,C=l(m),w=0;if(b&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==C||p==Array&&o(C))for(e=s(m.length),i=new p(e);e>w;w++)h=b?g(m[w],w):m[w],c(i,w,h);else for(d=C.call(m),f=d.next,i=new p;!(u=f.call(d)).done;w++)h=b?r(d,g,[u.value,w],!0):u.value,c(i,w,h);return i.length=w,i}},"4f75":function(t,e,i){t.exports=i.p+"img/confirm.aab76672.png"},5319:function(t,e,i){"use strict";var n=i("d784"),a=i("825a"),r=i("50c4"),o=i("a691"),s=i("1d80"),c=i("8aa5"),l=i("0cb2"),u=i("14c3"),d=Math.max,f=Math.min,h=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,i,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=n.REPLACE_KEEPS_$0,v=m?"$":"$0";return[function(i,n){var a=s(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,a,n):e.call(String(a),i,n)},function(t,n){if(!m&&p||"string"===typeof n&&-1===n.indexOf(v)){var s=i(e,t,this,n);if(s.done)return s.value}var g=a(t),b=String(this),C="function"===typeof n;C||(n=String(n));var w=g.global;if(w){var y=g.unicode;g.lastIndex=0}var _=[];while(1){var x=u(g,b);if(null===x)break;if(_.push(x),!w)break;var I=String(x[0]);""===I&&(g.lastIndex=c(b,r(g.lastIndex),y))}for(var S="",k=0,A=0;A<_.length;A++){x=_[A];for(var $=String(x[0]),O=d(f(o(x.index),b.length),0),P=[],T=1;T<x.length;T++)P.push(h(x[T]));var D=x.groups;if(C){var E=[$].concat(P,O,b);void 0!==D&&E.push(D);var M=String(n.apply(void 0,E))}else M=l($,b,O,P,D,n);O>=k&&(S+=b.slice(k,O)+M,k=O+$.length)}return S+b.slice(k)}]}))},5395:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"故障选项","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/ChargeDetails")}}}),n("div",{staticClass:"fault"},[n("div",{staticClass:"item"},[n("img",{attrs:{src:i("c9d0"),alt:""},on:{click:function(e){return t.$router.push({path:"/ChargeDetails",query:{updatePassword:1}})}}}),n("div",[t._v("如果输入密码无法开机，请点击此按钮，更换新密码")])]),n("div",{staticClass:"item"},[n("img",{attrs:{src:i("0c0a")},on:{click:t.concatService}}),n("div",[t._v("如果设备出现故障，请联系客房服务，更换新的设备。")])]),n("div",{staticClass:"item"},[n("img",{attrs:{src:i("ef12")},on:{click:function(e){return t.$router.push("/FailureReport")}}}),n("div",[t._v("如果设备无法使用，请点击此按钮上报故障")])])])],1)},a=[],r={methods:{concatService:function(){this.$dialog({message:"请联系客服,更换新设备。"})}}},o=r,s=(i("84ed"),i("2877")),c=Object(s["a"])(o,n,a,!1,null,"d901a04e",null);e["default"]=c.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),a=i("5899"),r="["+a+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),c=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(s,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5fe1":function(t,e,i){},"6b09":function(t,e,i){"use strict";i("1a8a")},"6c45":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"藏宝天下",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"login"},[t._m(0),i("div",{staticClass:"center"},[i("van-form",{on:{submit:t.onSubmit}},[i("van-field",{staticClass:"my-input mt80",attrs:{maxlength:"11",type:"tel",placeholder:"请输入手机号",rules:t.rulesMobile},on:{blur:t.getImgCode},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yonghu"})]},proxy:!0}]),model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),i("van-field",{staticClass:"my-input mt20",attrs:{type:"password",mixlength:"1",maxlength:"16",placeholder:"请输入密码",rules:t.rulesPassword},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-mima1"})]},proxy:!0}]),model:{value:t.passWord,callback:function(e){t.passWord=e},expression:"passWord"}}),i("div",{staticClass:"picture-code-box"},[i("van-field",{staticClass:"my-input picture-code  mt20",attrs:{mixlength:"1",maxlength:"8",placeholder:"验证码",rules:[{required:!0,message:"图片验证码"}]},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yanzhengma"})]},proxy:!0}]),model:{value:t.imgCode,callback:function(e){t.imgCode=e},expression:"imgCode"}}),t.imgcode?i("img",{staticClass:"img-code",attrs:{src:t.imgcode,alt:""},on:{click:t.getImgCode}}):i("div",{staticClass:"img-code",staticStyle:{background:"#F7F3F3"}}),i("div",{staticClass:"code img-code",on:{click:t.getSmsCode}},[t._v(t._s(t.codeMsg))])],1),t.showSmsCode?i("van-field",{staticClass:"my-input mt20",attrs:{mixlength:"1",maxlength:"8",type:"tel",placeholder:"请输入手机验证码",rules:t.rulesSmsCode},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yanzhengma"})]},proxy:!0}],null,!1,2581683205),model:{value:t.smsCode,callback:function(e){t.smsCode=e},expression:"smsCode"}}):t._e(),i("div",{staticClass:"error-msg mt20"},[t._v(t._s(t.errorMsg))]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A","native-type":"submit"}},[t._v("注册")])],1),i("div",{staticClass:"download-box"},[i("div",{on:{click:function(e){return t.$router.push("/cbtxLogin")}}},[t._v("前往登录")]),i("div",{on:{click:function(e){return t.$router.push("/findNum")}}},[t._v("找回伯乐号")]),"android"==t.type?i("a",{attrs:{href:t.url1,download:""},on:{click:t.downloadApp}},[t._v("下载App")]):"ios"==t.type?i("a",{attrs:{href:t.url2},on:{click:t.downloadApp}},[t._v("下载APP")]):t._e()])],1)],1)])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-box"},[i("div",{staticClass:"mgkc-logo"}),i("div",[t._v("藏宝天下")])])}],r=(i("ac1f"),i("5319"),i("2f14")),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{mobile:"",smsCode:"",passWord:"",imgCode:"",codeMsg:"获取验证码",canClick:!0,totalTime:60,showSmsCode:!1,errorMsg:"",imgcode:"",type:"",url1:"",url2:"",timer:null,rulesMobile:[{required:!0,message:" "}],rulesSmsCode:[{required:!0,message:" "}],rulesPassword:[{required:!0,message:" "}]}},watch:{imgCode:function(){this.imgCode=this.imgCode.replace(/[\W]/g,"")},smsCode:function(){this.smsCode=this.smsCode.replace(/[\W]/g,"")},passWord:function(){this.passWord=this.passWord.replace(/[\W]/g,"")},mobile:function(){this.mobile=this.mobile.replace(/[\D]/g,"")}},created:function(){var t=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(t)?this.type="ios":/android/.test(t)&&(this.type="android")},methods:{downloadApp:function(){"ios"==this.type?this.url2="https://apps.apple.com/cn/app/id1481780101?l=zh&amp;ls=1":this.url1="http://app.mi.com/details?id=com.txcbapp&amp;ref=search"},getImgCode:function(){var t=this;return""==this.mobile?(this.$toast.fail("手机号不能为空"),!1):Object(r["c"])(this.mobile)?void this.$http("/orderlist/getImgCode",{mobile:this.mobile,businessType:"registerMember"}).then((function(e){200==e.code?t.imgcode="data:image/png;base64,".concat(e.data):t.getImgCode()})):(this.$toast.fail("手机号不正确"),!1)},getSmsCode:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;var e=this.imgCode.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");if(""==e)return this.$toast.fail("图片验证码不能为空"),!1;this.canClick&&(this.canClick=!1,this.$http("/orderlist/getSmsCode",{mobile:this.mobile,imgCode:e,businessType:"registerMember"}).then((function(e){t.codeMsg=t.totalTime+"s";var i=window.setInterval((function(){t.totalTime--,t.codeMsg=t.totalTime+"s",t.totalTime<0&&(window.clearInterval(i),t.codeMsg="重新发送验证码",t.totalTime=60,t.canClick=!0)}),1e3);200==e.code?(t.showSmsCode=!0,t.$toast.success(e.msg)):t.errorMsg=e.msg})))},onSubmit:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;if(0==this.showSmsCode)return this.$toast.fail("请先获取手机验证码"),!1;var e=this.smsCode.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");if(""==e&&1==this.showSmsCode)return this.$toast.fail("手机验证码不能为空"),!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$http("/orderlist/treasureWorldRegister",{deviceId:Object(r["a"])("deviceId"),mobile:t.mobile,passWord:t.passWord,smsCode:e}).then((function(e){clearTimeout(t.timer),200==e.code?(Object(r["d"])("olId",e.data.orderlist.olId),t.$router.push({path:"/CbtxRegistedSuccess",query:{memberNo:e.data.memberNo}})):t.errorMsg=e.msg}))}),1e3)}}},c=s,l=(i("fcfa"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"5f58a379",null);e["default"]=u.exports},"6ca8":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){i(7),i(8),t.exports=i(9)},function(t,e,i){(function(e){(function(i){var n="function"===typeof e&&e||function(t){setTimeout(t,1)};function a(t,e){return function(){t.apply(e,arguments)}}var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(t,a(c,this),a(l,this))}function s(t){var e=this;null!==this._state?n((function(){var i=e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(a){return void t.reject(a)}t.resolve(n)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function c(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then;if("function"===typeof e)return void f(a(e,t),a(c,this),a(l,this))}this._state=!0,this._value=t,u.call(this)}catch(i){l.call(this,i)}}function l(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)s.call(this,this._deferreds[t]);this._deferreds=null}function d(t,e,i,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=i,this.reject=n}function f(t,e,i){var n=!1;try{t((function(t){n||(n=!0,e(t))}),(function(t){n||(n=!0,i(t))}))}catch(a){if(n)return;n=!0,i(a)}}o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var i=this;return new o((function(n,a){s.call(i,new d(t,e,n,a))}))},o.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&r(arguments[0])?arguments[0]:arguments);return new o((function(e,i){if(0===t.length)return e([]);var n=t.length;function a(r,o){try{if(o&&("object"===typeof o||"function"===typeof o)){var s=o.then;if("function"===typeof s)return void s.call(o,(function(t){a(r,t)}),i)}t[r]=o,0===--n&&e(t)}catch(c){i(c)}}for(var r=0;r<t.length;r++)a(r,t[r])}))},o.resolve=function(t){return t&&"object"===typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,i){i(t)}))},o.race=function(t){return new o((function(e,i){for(var n=0,a=t.length;n<a;n++)t[n].then(e,i)}))},o._setImmediateFn=function(t){n=t},o.prototype.always=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))},"undefined"!==typeof t&&t.exports?t.exports=o:i.Promise||(i.Promise=o)})(this)}).call(e,i(2).setImmediate)},function(t,e,i){(function(t){var n="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(a.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(a.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(3),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var n,a=1,r={},o=!1,s=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?h():m()?p():t.MessageChannel?v():s&&"onreadystatechange"in s.createElement("script")?g():b(),c.setImmediate=l,c.clearImmediate=u}function l(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var o={callback:t,args:e};return r[a]=o,n(a),a++}function u(t){delete r[t]}function d(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n);break}}function f(t){if(o)setTimeout(f,0,t);else{var e=r[t];if(e){o=!0;try{d(e)}finally{u(t),o=!1}}}}function h(){n=function(t){e.nextTick((function(){f(t)}))}}function m(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function p(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&f(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),n=function(i){t.postMessage(e+i,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},n=function(e){t.port2.postMessage(e)}}function g(){var t=s.documentElement;n=function(e){var i=s.createElement("script");i.onreadystatechange=function(){f(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function b(){n=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(e,function(){return this}(),i(4))},function(t,e){var i,n,a=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function c(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}})();var l,u=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?u=l.concat(u):f=-1,u.length&&m())}function m(){if(!d){var t=s(h);d=!0;var e=u.length;while(e){l=u,u=[];while(++f<e)l&&l[f].run();f=-1,e=u.length}l=null,d=!1,c(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||d||s(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){var i=function(){try{return new Blob,!0}catch(t){return!1}}()?window.Blob:function(t,e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return t.forEach((function(t){i.append(t)})),i.getBlob(e?e.type:void 0)};function n(){var t=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return t&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var a=function(){var t=0;function e(){var e=this,n=[],a=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),r=XMLHttpRequest.prototype.send;this.getParts=function(){return n.toString()},this.append=function(t,e,i){n.push("--"+a+'\r\nContent-Disposition: form-data; name="'+t+'"'),e instanceof Blob?(n.push('; filename="'+(i||"blob")+'"\r\nContent-Type: '+e.type+"\r\n\r\n"),n.push(e)):n.push("\r\n\r\n"+e),n.push("\r\n")},t++,XMLHttpRequest.prototype.send=function(o){var s,c,l=this;o===e?(n.push("--"+a+"--\r\n"),c=new i(n),s=new FileReader,s.onload=function(){r.call(l,s.result)},s.onerror=function(t){throw t},s.readAsArrayBuffer(c),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+a),t--,0==t&&(XMLHttpRequest.prototype.send=r)):r.call(this,o)}}return e.prototype=Object.create(FormData.prototype),e}();t.exports={Blob:i,FormData:n()?a:FormData}},function(t,e,i){var n,a;(function(){var i=!1,r=function(t){return t instanceof r?t:this instanceof r?void(this.EXIFwrapped=t):new r(t)};"undefined"!==typeof t&&t.exports&&(e=t.exports=r),e.EXIF=r;var o=r.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=r.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},c=r.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=r.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function u(t){return!!t.exifdata}function d(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,a=new ArrayBuffer(n),r=new Uint8Array(a),o=0;o<n;o++)r[o]=i.charCodeAt(o);return a}function f(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}function h(t,e){function n(i){var n=m(i),a=p(i);t.exifdata=n||{},t.iptcdata=a||{},e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var a=d(t.src);n(a)}else if(/^blob\:/i.test(t.src)){var r=new FileReader;r.onload=function(t){n(t.target.result)},f(t.src,(function(t){r.readAsArrayBuffer(t)}))}else{var o=new XMLHttpRequest;o.onload=function(){200==this.status||0===this.status?n(o.response):e(new Error("Could not load image")),o=null},o.open("GET",t.src,!0),o.responseType="arraybuffer",o.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){r=new FileReader;r.onload=function(t){i&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},r.readAsArrayBuffer(t)}}function m(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n,a=2,r=t.byteLength;while(a<r){if(255!=e.getUint8(a))return i&&console.log("Not a valid marker at offset "+a+", found: "+e.getUint8(a)),!1;if(n=e.getUint8(a+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),y(e,a+4,e.getUint16(a+2)-2);a+=2+e.getUint16(a+2)}}function p(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,a=t.byteLength,r=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};while(n<a){if(r(e,n)){var o=e.getUint8(n+7);o%2!==0&&(o+=1),0===o&&(o=4);var s=n+8+o,c=e.getUint16(n+6+o);return g(t,s,c)}n++}}var v={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function g(t,e,i){var n,a,r,o,s=new DataView(t),c={},l=e;while(l<e+i)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(o=s.getUint8(l+2),o in v&&(r=s.getInt16(l+3),r+5,a=v[o],n=w(s,l+5,r),c.hasOwnProperty(a)?c[a]instanceof Array?c[a].push(n):c[a]=[c[a],n]:c[a]=n)),l++;return c}function b(t,e,n,a,r){var o,s,c,l=t.getUint16(n,!r),u={};for(c=0;c<l;c++)o=n+12*c+2,s=a[t.getUint16(o,!r)],!s&&i&&console.log("Unknown tag: "+t.getUint16(o,!r)),u[s]=C(t,o,e,n,r);return u}function C(t,e,i,n,a){var r,o,s,c,l,u,d=t.getUint16(e+2,!a),f=t.getUint32(e+4,!a),h=t.getUint32(e+8,!a)+i;switch(d){case 1:case 7:if(1==f)return t.getUint8(e+8,!a);for(r=f>4?h:e+8,o=[],c=0;c<f;c++)o[c]=t.getUint8(r+c);return o;case 2:return r=f>4?h:e+8,w(t,r,f-1);case 3:if(1==f)return t.getUint16(e+8,!a);for(r=f>2?h:e+8,o=[],c=0;c<f;c++)o[c]=t.getUint16(r+2*c,!a);return o;case 4:if(1==f)return t.getUint32(e+8,!a);for(o=[],c=0;c<f;c++)o[c]=t.getUint32(h+4*c,!a);return o;case 5:if(1==f)return l=t.getUint32(h,!a),u=t.getUint32(h+4,!a),s=new Number(l/u),s.numerator=l,s.denominator=u,s;for(o=[],c=0;c<f;c++)l=t.getUint32(h+8*c,!a),u=t.getUint32(h+4+8*c,!a),o[c]=new Number(l/u),o[c].numerator=l,o[c].denominator=u;return o;case 9:if(1==f)return t.getInt32(e+8,!a);for(o=[],c=0;c<f;c++)o[c]=t.getInt32(h+4*c,!a);return o;case 10:if(1==f)return t.getInt32(h,!a)/t.getInt32(h+4,!a);for(o=[],c=0;c<f;c++)o[c]=t.getInt32(h+8*c,!a)/t.getInt32(h+4+8*c,!a);return o}}function w(t,e,i){var n,a="";for(n=e;n<e+i;n++)a+=String.fromCharCode(t.getUint8(n));return a}function y(t,e){if("Exif"!=w(t,e,4))return i&&console.log("Not valid EXIF data! "+w(t,e,4)),!1;var n,a,r,u,d,f=e+6;if(18761==t.getUint16(f))n=!1;else{if(19789!=t.getUint16(f))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(f+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var h=t.getUint32(f+4,!n);if(h<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(f+4,!n)),!1;if(a=b(t,f,f+h,s,n),a.ExifIFDPointer)for(r in u=b(t,f,f+a.ExifIFDPointer,o,n),u){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":u[r]=l[r][u[r]];break;case"ExifVersion":case"FlashpixVersion":u[r]=String.fromCharCode(u[r][0],u[r][1],u[r][2],u[r][3]);break;case"ComponentsConfiguration":u[r]=l.Components[u[r][0]]+l.Components[u[r][1]]+l.Components[u[r][2]]+l.Components[u[r][3]];break}a[r]=u[r]}if(a.GPSInfoIFDPointer)for(r in d=b(t,f,f+a.GPSInfoIFDPointer,c,n),d){switch(r){case"GPSVersionID":d[r]=d[r][0]+"."+d[r][1]+"."+d[r][2]+"."+d[r][3];break}a[r]=d[r]}return a}r.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(u(t)?e&&e.call(t):h(t,e),!0)},r.getTag=function(t,e){if(u(t))return t.exifdata[e]},r.getAllTags=function(t){if(!u(t))return{};var e,i=t.exifdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},r.pretty=function(t){if(!u(t))return"";var e,i=t.exifdata,n="";for(e in i)i.hasOwnProperty(e)&&("object"==typeof i[e]?i[e]instanceof Number?n+=e+" : "+i[e]+" ["+i[e].numerator+"/"+i[e].denominator+"]\r\n":n+=e+" : ["+i[e].length+" values]\r\n":n+=e+" : "+i[e]+"\r\n");return n},r.readFromBinaryFile=function(t){return m(t)},n=[],a=function(){return r}.apply(e,n),void 0===a||(t.exports=a)}).call(this)},function(t,e,i){var n,a;(function(){function i(t){var e=t.naturalWidth,i=t.naturalHeight;if(e*i>1048576){var n=document.createElement("canvas");n.width=n.height=1;var a=n.getContext("2d");return a.drawImage(t,1-e,0),0===a.getImageData(0,0,1,1).data[3]}return!1}function r(t,e,i){var n=document.createElement("canvas");n.width=1,n.height=i;var a=n.getContext("2d");a.drawImage(t,0,0);var r=a.getImageData(0,0,1,i).data,o=0,s=i,c=i;while(c>o){var l=r[4*(c-1)+3];0===l?s=c:o=c,c=s+o>>1}var u=c/i;return 0===u?1:u}function o(t,e,i){var n=document.createElement("canvas");return s(t,n,e,i),n.toDataURL("image/jpeg",e.quality||.8)}function s(t,e,n,a){var o=t.naturalWidth,s=t.naturalHeight,l=n.width,u=n.height,d=e.getContext("2d");d.save(),c(e,d,l,u,n.orientation);var f=i(t);f&&(o/=2,s/=2);var h=1024,m=document.createElement("canvas");m.width=m.height=h;var p=m.getContext("2d"),v=a?r(t,o,s):1,g=Math.ceil(h*l/o),b=Math.ceil(h*u/s/v),C=0,w=0;while(C<s){var y=0,_=0;while(y<o)p.clearRect(0,0,h,h),p.drawImage(t,-y,-C),d.drawImage(m,0,0,h,h,_,w,g,b),y+=h,_+=g;C+=h,w+=b}d.restore(),m=p=null}function c(t,e,i,n,a){switch(a){case 5:case 6:case 7:case 8:t.width=n,t.height=i;break;default:t.width=i,t.height=n}switch(a){case 2:e.translate(i,0),e.scale(-1,1);break;case 3:e.translate(i,n),e.rotate(Math.PI);break;case 4:e.translate(0,n),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-n);break;case 7:e.rotate(.5*Math.PI),e.translate(i,-n),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-i,0);break;default:break}}function l(t){if(window.Blob&&t instanceof Blob){var e=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");e.src=i.createObjectURL(t),this.blob=t,t=e}if(!t.naturalWidth&&!t.naturalHeight){var n=this;t.onload=function(){var t=n.imageLoadListeners;if(t){n.imageLoadListeners=null;for(var e=0,i=t.length;e<i;e++)t[e]()}},this.imageLoadListeners=[]}this.srcImage=t}l.prototype.render=function(t,e,i){if(this.imageLoadListeners){var n=this;this.imageLoadListeners.push((function(){n.render(t,e,i)}))}else{e=e||{};var a=this.srcImage,r=a.src,c=r.length,l=a.naturalWidth,u=a.naturalHeight,d=e.width,f=e.height,h=e.maxWidth,m=e.maxHeight,p=this.blob&&"image/jpeg"===this.blob.type||0===r.indexOf("data:image/jpeg")||r.indexOf(".jpg")===c-4||r.indexOf(".jpeg")===c-5;d&&!f?f=u*d/l<<0:f&&!d?d=l*f/u<<0:(d=l,f=u),h&&d>h&&(d=h,f=u*d/l<<0),m&&f>m&&(f=m,d=l*f/u<<0);var v={width:d,height:f};for(var g in e)v[g]=e[g];var b=t.tagName.toLowerCase();"img"===b?t.src=o(this.srcImage,v,p):"canvas"===b&&s(this.srcImage,t,v,p),"function"===typeof this.onrender&&this.onrender(t),i&&i()}},n=[],a=function(){return l}.apply(e,n),void 0===a||(t.exports=a)})()},function(t,e){function i(t){Math.round;var e,i,n,a,r,o=Math.floor,s=new Array(64),c=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),m=new Array(64),p=[],v=0,g=7,b=new Array(64),C=new Array(64),w=new Array(64),y=new Array(256),_=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=o((e[i]*t+50)/100);n<1?n=1:n>255&&(n=255),s[x[i]]=n}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;r<64;r++){var d=o((a[r]*t+50)/100);d<1?d=1:d>255&&(d=255),c[x[r]]=d}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,m=0;m<8;m++)for(var p=0;p<8;p++)l[h]=1/(s[x[h]]*f[m]*f[p]*8),u[h]=1/(c[x[h]]*f[m]*f[p]*8),h++}function E(t,e){for(var i=0,n=0,a=new Array,r=1;r<=16;r++){for(var o=1;o<=t[r];o++)a[e[n]]=[],a[e[n]][0]=i,a[e[n]][1]=r,n++,i++;i*=2}return a}function M(){e=E(I,S),i=E($,O),n=E(k,A),a=E(P,T)}function j(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)f[32767+n]=i,d[32767+n]=[],d[32767+n][1]=i,d[32767+n][0]=n;for(var a=-(e-1);a<=-t;a++)f[32767+a]=i,d[32767+a]=[],d[32767+a][1]=i,d[32767+a][0]=e-1+a;t<<=1,e<<=1}}function R(){for(var t=0;t<256;t++)_[t]=19595*t,_[t+256>>0]=38470*t,_[t+512>>0]=7471*t+32768,_[t+768>>0]=-11059*t,_[t+1024>>0]=-21709*t,_[t+1280>>0]=32768*t+8421375,_[t+1536>>0]=-27439*t,_[t+1792>>0]=-5329*t}function L(t){var e=t[0],i=t[1]-1;while(i>=0)e&1<<i&&(v|=1<<g),i--,g--,g<0&&(255==v?(F(255),F(0)):F(v),g=7,v=0)}function F(t){p.push(y[t])}function N(t){F(t>>8&255),F(255&t)}function U(t,e){var i,n,a,r,o,s,c,l,u,d=0;const f=8,m=64;for(u=0;u<f;++u){i=t[d],n=t[d+1],a=t[d+2],r=t[d+3],o=t[d+4],s=t[d+5],c=t[d+6],l=t[d+7];var p=i+l,v=i-l,g=n+c,b=n-c,C=a+s,w=a-s,y=r+o,_=r-o,x=p+y,I=p-y,S=g+C,k=g-C;t[d]=x+S,t[d+4]=x-S;var A=.707106781*(k+I);t[d+2]=I+A,t[d+6]=I-A,x=_+w,S=w+b,k=b+v;var $=.382683433*(x-k),O=.5411961*x+$,P=1.306562965*k+$,T=.707106781*S,D=v+T,E=v-T;t[d+5]=E+O,t[d+3]=E-O,t[d+1]=D+P,t[d+7]=D-P,d+=8}for(d=0,u=0;u<f;++u){i=t[d],n=t[d+8],a=t[d+16],r=t[d+24],o=t[d+32],s=t[d+40],c=t[d+48],l=t[d+56];var M=i+l,j=i-l,R=n+c,L=n-c,F=a+s,N=a-s,U=r+o,G=r-o,B=M+U,W=M-U,q=R+F,z=R-F;t[d]=B+q,t[d+32]=B-q;var V=.707106781*(z+W);t[d+16]=W+V,t[d+48]=W-V,B=G+N,q=N+L,z=L+j;var H=.382683433*(B-z),X=.5411961*B+H,J=1.306562965*z+H,Y=.707106781*q,Q=j+Y,K=j-Y;t[d+40]=K+X,t[d+24]=K-X,t[d+8]=Q+J,t[d+56]=Q-J,d++}var Z;for(u=0;u<m;++u)Z=t[u]*e[u],h[u]=Z>0?Z+.5|0:Z-.5|0;return h}function G(){N(65504),N(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),N(1),N(1),F(0),F(0)}function B(t,e){N(65472),N(17),F(8),N(e),N(t),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}function W(){N(65499),N(132),F(0);for(var t=0;t<64;t++)F(s[t]);F(1);for(var e=0;e<64;e++)F(c[e])}function q(){N(65476),N(418),F(0);for(var t=0;t<16;t++)F(I[t+1]);for(var e=0;e<=11;e++)F(S[e]);F(16);for(var i=0;i<16;i++)F(k[i+1]);for(var n=0;n<=161;n++)F(A[n]);F(1);for(var a=0;a<16;a++)F($[a+1]);for(var r=0;r<=11;r++)F(O[r]);F(17);for(var o=0;o<16;o++)F(P[o+1]);for(var s=0;s<=161;s++)F(T[s])}function z(){N(65498),N(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0)}function V(t,e,i,n,a){var r,o=a[0],s=a[240];const c=16,l=63,u=64;for(var h=U(t,e),p=0;p<u;++p)m[x[p]]=h[p];var v=m[0]-i;i=m[0],0==v?L(n[0]):(r=32767+v,L(n[f[r]]),L(d[r]));for(var g=63;g>0&&0==m[g];g--);if(0==g)return L(o),i;var b,C=1;while(C<=g){for(var w=C;0==m[C]&&C<=g;++C);var y=C-w;if(y>=c){b=y>>4;for(var _=1;_<=b;++_)L(s);y&=15}r=32767+m[C],L(a[(y<<4)+f[r]]),L(d[r]),C++}return g!=l&&L(o),i}function H(){for(var t=String.fromCharCode,e=0;e<256;e++)y[e]=t(e)}function X(t){if(t<=0&&(t=1),t>100&&(t=100),r!=t){var e=0;e=t<50?Math.floor(5e3/t):Math.floor(200-2*t),D(e),r=t}}function J(){var e=(new Date).getTime();t||(t=50),H(),M(),j(),R(),X(t);(new Date).getTime()}this.encode=function(t,r,o){var s=(new Date).getTime();r&&X(r),p=new Array,v=0,g=7,N(65496),G(),W(),B(t.width,t.height),q(),z();var c=0,d=0,f=0;v=0,g=7,this.encode.displayName="_encode_";var h,m,y,x,I,S,k,A,$,O=t.data,P=t.width,T=t.height,D=4*P,E=0;while(E<T){h=0;while(h<D){for(I=D*E+h,S=I,k=-1,A=0,$=0;$<64;$++)A=$>>3,k=4*(7&$),S=I+A*D+k,E+A>=T&&(S-=D*(E+1+A-T)),h+k>=D&&(S-=h+k-D+4),m=O[S++],y=O[S++],x=O[S++],b[$]=(_[m]+_[y+256>>0]+_[x+512>>0]>>16)-128,C[$]=(_[m+768>>0]+_[y+1024>>0]+_[x+1280>>0]>>16)-128,w[$]=(_[m+1280>>0]+_[y+1536>>0]+_[x+1792>>0]>>16)-128;c=V(b,l,c,e,n),d=V(C,u,d,i,a),f=V(w,u,f,i,a),h+=32}E+=8}if(g>=0){var M=[];M[1]=g+1,M[0]=(1<<g+1)-1,L(M)}if(N(65497),o){for(var j=p.length,R=new Uint8Array(j),F=0;F<j;F++)R[F]=p[F].charCodeAt();p=[];(new Date).getTime();return R}var U="data:image/jpeg;base64,"+btoa(p.join(""));p=[];(new Date).getTime();return U},J()}t.exports=i},function(t,e,i){i.p=c("lrz")+"/",window.URL=window.URL||window.webkitURL;var n=i(1),a=i(5),r=i(6),o=function(t){var e=/OS (.*) like Mac OS X/g.exec(t),i=/Android (\d.*?);/g.exec(t)||/Android\/(\d.*?) /g.exec(t),n=e?+e.pop().replace(/-/g,"."):0;return{oldIOS:!!e&&n<8,newIOS:!!e&&n>=13,oldAndroid:!!i&&+i.pop().substr(0,3)<4.5,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(t),android:/Android/g.test(t),mQQBrowser:/MQQBrowser/g.test(t)}}(navigator.userAgent);function s(t,e){var i=this;if(!t)throw new Error("没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7");for(var n in e=e||{},i.defaults={width:null,height:null,fieldName:"file",ingnoreOrientation:!o.iOS||o.newIOS,quality:.7},i.file=t,e)e.hasOwnProperty(n)&&(i.defaults[n]=e[n]);return this.init()}function c(t){var e=null;return e=t?[].filter.call(document.scripts,(function(e){return-1!==e.src.indexOf(t)}))[0]:document.scripts[document.scripts.length-1],e?e.src.substr(0,e.src.lastIndexOf("/")):null}function l(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return new a.Blob([n.buffer],{type:i})}s.prototype.init=function(){var t=this,e=t.file,i="string"===typeof e,r=/^data:/.test(e),o=new Image,s=document.createElement("canvas"),c=i?e:URL.createObjectURL(e);if(t.img=o,t.blob=c,t.canvas=s,t.fileName=i?r?"base64.jpg":e.split("/").pop():e.name,!document.createElement("canvas").getContext)throw new Error("浏览器不支持canvas");return new n((function(i,n){o.onerror=function(){var t=new Error("加载图片文件失败");throw n(t),t},o.onload=function(){t._getBase64().then((function(t){if(t.length<10){var e=new Error("生成base64失败");throw n(e),e}return t})).then((function(n){var r=null;for(var o in"object"===typeof t.file&&n.length>t.file.size?(r=new FormData,e=t.file):(r=new a.FormData,e=l(n)),r.append(t.defaults.fieldName,e,t.fileName.replace(/\..+/g,".jpg")),i({formData:r,fileLen:+e.size,base64:n,base64Len:n.length,origin:t.file,file:e}),t)t.hasOwnProperty(o)&&(t[o]=null);URL.revokeObjectURL(t.blob)}))},!r&&(o.crossOrigin="*"),o.src=c}))},s.prototype._getBase64=function(){var t=this,e=t.img,i=t.file,a=t.canvas;return new n((function(n){try{r.getData("object"===typeof i?i:e,(function(){t.orientation=t.defaults.ingnoreOrientation?0:r.getTag(this,"Orientation"),t.resize=t._getResize(),t.ctx=a.getContext("2d"),a.width=t.resize.width,a.height=t.resize.height,t.ctx.fillStyle="#fff",t.ctx.fillRect(0,0,a.width,a.height),o.oldIOS?t._createBase64ForOldIOS().then(n):t._createBase64().then(n)}))}catch(err){throw new Error(err)}}))},s.prototype._createBase64ForOldIOS=function(){var t=this,e=t.img,a=t.canvas,r=t.defaults,o=t.orientation;return new n((function(t){!function(){var n=[i(7)];(function(i){var n=new i(e);"5678".indexOf(o)>-1?n.render(a,{width:a.height,height:a.width,orientation:o}):n.render(a,{width:a.width,height:a.height,orientation:o}),t(a.toDataURL("image/jpeg",r.quality))}).apply(null,n)}()}))},s.prototype._createBase64=function(){var t=this,e=t.resize,a=t.img,r=t.canvas,s=t.ctx,c=t.defaults,l=t.orientation;switch(l){case 3:s.rotate(180*Math.PI/180),s.drawImage(a,-e.width,-e.height,e.width,e.height);break;case 6:s.rotate(90*Math.PI/180),s.drawImage(a,0,-e.width,e.height,e.width);break;case 8:s.rotate(270*Math.PI/180),s.drawImage(a,-e.height,0,e.height,e.width);break;case 2:s.translate(e.width,0),s.scale(-1,1),s.drawImage(a,0,0,e.width,e.height);break;case 4:s.translate(e.width,0),s.scale(-1,1),s.rotate(180*Math.PI/180),s.drawImage(a,-e.width,-e.height,e.width,e.height);break;case 5:s.translate(e.width,0),s.scale(-1,1),s.rotate(90*Math.PI/180),s.drawImage(a,0,-e.width,e.height,e.width);break;case 7:s.translate(e.width,0),s.scale(-1,1),s.rotate(270*Math.PI/180),s.drawImage(a,-e.height,0,e.height,e.width);break;default:s.drawImage(a,0,0,e.width,e.height)}return new n((function(t){o.oldAndroid||o.mQQBrowser||!navigator.userAgent?function(){var e=[i(8)];(function(e){var i=new e,n=s.getImageData(0,0,r.width,r.height);t(i.encode(n,100*c.quality))}).apply(null,e)}():t(r.toDataURL("image/jpeg",c.quality))}))},s.prototype._getResize=function(){var t=this,e=t.img,i=t.defaults,n=i.width,a=i.height,r=t.orientation,o={width:e.width,height:e.height};if("5678".indexOf(r)>-1&&(o.width=e.height,o.height=e.width),o.width<n||o.height<a)return o;var s=o.width/o.height;n&&a?s>=n/a?o.width>n&&(o.width=n,o.height=Math.ceil(n/s)):o.height>a&&(o.height=a,o.width=Math.ceil(a*s)):n?n<o.width&&(o.width=n,o.height=Math.ceil(n/s)):a&&a<o.height&&(o.width=Math.ceil(a*s),o.height=a);while(o.width>=3264||o.height>=2448)o.width*=.8,o.height*=.8;return o},window.lrz=function(t,e){return new s(t,e)},window.lrz.version="__packageJSON.version__",t.exports=window.lrz}])}))},7069:function(t,e,i){},7090:function(t,e,i){"use strict";i("5fe1")},7156:function(t,e,i){var n=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var r,o;return a&&"function"==typeof(r=e.constructor)&&r!==i&&n(o=r.prototype)&&o!==i.prototype&&a(t,o),t}},"7b23":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"failure-report"},[n("van-nav-bar",{attrs:{title:"故障上报","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/fault")}}}),n("div",{staticClass:"content"},[n("div",{staticClass:"top common"},[n("div",{staticClass:"title"},[t._v("米京充电线小程序申请获得：")]),n("div",{staticClass:"text"},[t._v("设备SN："+t._s(t.deviceId))]),n("div",{staticClass:"mobile "},[n("div",{staticClass:"text"},[t._v("手机号：")]),n("van-field",{staticClass:"my-field font",attrs:{maxlength:"11",type:"tel",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1)]),n("div",{staticClass:"center common "},[n("div",{staticClass:"title"},[t._v("故障内容：")]),n("van-field",{staticClass:"my-field",attrs:{rows:"2",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("div",{staticClass:"bottom common"},[t._m(0),n("van-uploader",{attrs:{"after-read":t.uploadImg}},[t.picture&&2==t.status?n("img",{staticClass:"upload-img",attrs:{src:t.picture}}):0==t.status?n("img",{staticClass:"upload-img",attrs:{src:i("4b3d"),alt:""}}):1==t.status?n("div",{staticClass:"my-loading"},[n("van-loading"),n("div",[t._v("上传中...")])],1):t._e()])],1),n("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:t.submit}},[t._v("提交")])],1)],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"flex"}},[i("div",{staticClass:"title"},[t._v("图片上传：")]),i("div",{staticStyle:{color:"red"}},[t._v("图片大小不超过10M")])])}],r=(i("ac1f"),i("5319"),i("498a"),i("2f14")),o=i("22b6"),s=i("6ca8"),c=i.n(s),l={data:function(){return{mobile:"",deviceId:Object(r["a"])("deviceId"),olId:Object(r["a"])("olId"),content:"",picture:"",status:0,timer:null}},watch:{mobile:function(){this.mobile=this.mobile.replace(/[\D]/g,"")},content:function(){this.content=this.content.replace(/[^a-zA-Z0-9\u4E00-\u9FA5`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘’，。、]/g,"")}},methods:{uploadImg:function(t){var e,i=this,n=new FormData;c()(t.file).then((function(a){e=a.origin,n.append("myfiles",e),t.file.size<10485760?(i.status=1,Object(o["b"])("/upload/pictureOrVideo",n).then((function(t){200==t.code?(i.status=2,i.picture=t.data):i.$toast.fail(t.msg)}))):i.$toast.fail("图片大小超过10M")}))},submit:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;var e=this.content.trim();return""==e?(this.$toast.fail("故障内容不能为空"),!1):1!=this.status&&(this.timer&&clearTimeout(this.timer),void(this.timer=setTimeout((function(){t.$http("/device/insertFault",{mobile:t.mobile,deviceId:t.deviceId,content:t.content,picture:t.picture,olId:t.olId}).then((function(e){clearTimeout(t.timer),200==e.code?(t.$toast.success(e.msg),t.$router.push("/ChargeDetails")):t.$toast.fail(e.msg)}))}),1e3)))}}},u=l,d=(i("e281"),i("2877")),f=Object(d["a"])(u,n,a,!1,null,"fe0723ee",null);e["default"]=f.exports},"7c3f":function(t,e,i){"use strict";i("181e")},8082:function(t,e,i){"use strict";i("ba7b")},"83fc":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"找回伯乐号",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),i("div",{staticClass:"login"},[t._m(0),i("div",{staticClass:"center"},[i("van-form",[i("van-field",{staticClass:"my-input mt80",attrs:{maxlength:"11",type:"tel",placeholder:"请输入手机号",rules:t.rulesMobile},on:{blur:t.getImgCode},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yonghu"})]},proxy:!0}]),model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),i("div",{staticClass:"picture-code-box"},[i("van-field",{staticClass:"my-input picture-code  mt20",attrs:{minlength:"1",maxlength:"8",placeholder:"验证码",rules:[{required:!0,message:"请填写图片验证码"}]},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yanzhengma"})]},proxy:!0}]),model:{value:t.imgCode,callback:function(e){t.imgCode=e},expression:"imgCode"}}),t.imgcode?i("img",{staticClass:"img-code",attrs:{src:t.imgcode,alt:""},on:{click:t.getImgCode}}):i("div",{staticClass:"img-code",staticStyle:{background:"#F7F3F3"}}),i("div",{staticClass:"code img-code",on:{click:t.getSmsCode}},[t._v(t._s(t.codeMsg))])],1),t.showSmsCode?i("van-field",{staticClass:"my-input mt20",attrs:{type:"tel",minlength:"1",maxlength:"8",placeholder:"请输入手机验证码",rules:t.rulesSmsCode},scopedSlots:t._u([{key:"left-icon",fn:function(){return[i("span",{staticClass:"iconfont  icon-yanzhengma"})]},proxy:!0}],null,!1,2581683205),model:{value:t.smsCode,callback:function(e){t.smsCode=e},expression:"smsCode"}}):t._e(),i("div",{staticClass:"error-msg mt20"},[t._v(t._s(t.errorMsg))]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:t.onSubmit}},[t._v("下一步")])],1),i("div",{staticClass:"download-box"},[i("div",{on:{click:function(e){return t.$router.push("/cbtxLogin")}}},[t._v("前往登录")]),"android"==t.type?i("a",{attrs:{href:t.url1,download:""},on:{click:t.downloadApp}},[t._v("下载App")]):"ios"==t.type?i("a",{attrs:{href:t.url2},on:{click:t.downloadApp}},[t._v("下载APP")]):t._e()])],1)],1)])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-box"},[i("div",{staticClass:"mgkc-logo"}),i("div",[t._v("藏宝天下")])])}],r=(i("ac1f"),i("5319"),i("2f14")),o={data:function(){return{mobile:"",smsCode:"",imgCode:"",codeMsg:"获取验证码",canClick:!0,totalTime:60,showSmsCode:!1,timer:null,errorMsg:"",imgcode:"",type:"",url1:"",url2:"",rulesMobile:[{required:!0,message:" "}],rulesSmsCode:[{required:!0,message:" "}]}},watch:{imgCode:function(){this.imgCode=this.imgCode.replace(/[\W]/g,"")},smsCode:function(){this.smsCode=this.smsCode.replace(/[\W]/g,"")},mobile:function(){this.mobile=this.mobile.replace(/[\D]/g,"")}},created:function(){var t=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(t)?this.type="ios":/android/.test(t)&&(this.type="android")},methods:{onSubmit:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;if(0==this.showSmsCode)return this.$toast.fail("请先获取手机验证码"),!1;var e=this.smsCode.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");if(""==this.smsCode&&1==this.showSmsCode)return this.$toast.fail("手机验证码不能为空"),!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$http("/orderlist/getMemberNo",{mobile:t.mobile,smsCode:e,pageNum:1,pageSize:4}).then((function(i){clearTimeout(t.timer),200==i.code?t.$router.push({path:"/numList",query:{smsCode:e,mobile:t.mobile}}):t.$toast.fail(i.msg)}))}),1e3)},downloadApp:function(){"ios"==this.type?this.url2="https://apps.apple.com/cn/app/id1481780101?l=zh&amp;ls=1":this.url1="http://app.mi.com/details?id=com.txcbapp&amp;ref=search"},getImgCode:function(){var t=this;return""==this.mobile?(this.$toast.fail("手机号不能为空"),!1):Object(r["c"])(this.mobile)?void this.$http("/orderlist/getImgCode",{mobile:this.mobile,businessType:"queryMemberNo"}).then((function(e){200==e.code?t.imgcode="data:image/png;base64,".concat(e.data):500==e.code&&t.getImgCode()})):(this.$toast.fail("手机号不正确"),!1)},getSmsCode:function(){var t=this;if(""==this.mobile)return this.$toast.fail("手机号不能为空"),!1;if(!Object(r["c"])(this.mobile))return this.$toast.fail("手机号不正确"),!1;var e=this.imgCode.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");if(""==e)return this.$toast.fail("图片验证码不能为空"),!1;this.canClick&&(this.canClick=!1,this.$http("/orderlist/getSmsCode",{mobile:this.mobile,imgCode:e,businessType:"queryMemberNo"}).then((function(e){if(200==e.code){t.errorMsg="",t.showSmsCode=!0,t.$toast.success(e.msg),t.codeMsg=t.totalTime+"s";var i=window.setInterval((function(){t.totalTime--,t.codeMsg=t.totalTime+"s",t.totalTime<0&&(window.clearInterval(i),t.codeMsg="重新发送验证码",t.totalTime=60,t.canClick=!0)}),1e3)}else t.errorMsg=e.msg})))}}},s=o,c=(i("ca64"),i("2877")),l=Object(c["a"])(s,n,a,!1,null,"c7cecf44",null);e["default"]=l.exports},8418:function(t,e,i){"use strict";var n=i("c04e"),a=i("9bf2"),r=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?a.f(t,o,r(0,i)):t[o]=i}},8453:function(t,e,i){"use strict";i("aa79")},"84ed":function(t,e,i){"use strict";i("ce4ef")},"85ab":function(t,e,i){},"8c3d":function(t,e,i){"use strict";i("9e7e")},9204:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"充电详情","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"in-charging"},[i("div",{staticClass:"in-charging-title"},[t._v("正在充电")]),i("div",{staticClass:"item-title"},[t._v("消费详情")]),i("div",{staticClass:"item"},[i("span",{staticClass:"title"},[t._v("已充电：")]),i("span",{staticClass:"text"},[t._v(t._s(t.usertime))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"title"},[t._v("已付费用：")]),i("span",{staticClass:"text"},[t._v("￥"+t._s(t.olPrice))])]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:function(e){return t.$router.push("/ChargeDetails")}}},[t._v("继续使用")])],1)])],1)},a=[],r=i("2f14"),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{usertime:"",olPrice:"",olId:Object(r["a"])("olId")}},created:function(){this.showOrderlist()},methods:{showOrderlist:function(){var t=this;this.$http("/orderlist/showOrderlist",{olId:this.olId}).then((function(e){200==e.code&&(t.usertime=e.data.usertime,t.olPrice=e.data.olPrice)}))}}},c=s,l=(i("7c3f"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"da8b544e",null);e["default"]=u.exports},"925b":function(t,e,i){},"95f5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"设备注册","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"register"},[i("div",{staticClass:"title"},[t._v("当前设备已注册，信息如下")]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("所属项目：")]),i("span",{staticClass:"text"},[t._v(t._s(t.hotName))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("SN码：")]),i("span",{staticClass:"text"},[t._v(t._s(t.deviceId))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"titel"},[t._v("房间号：")]),i("span",{staticClass:"text"},[t._v(t._s(t.roomId))])]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:function(e){return t.$router.push("/EquipmentRegister")}}},[t._v("更新信息")])],1)])],1)},a=[],r=i("2f14"),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{hotName:"",deviceId:Object(r["a"])("deviceId"),roomId:""}},created:function(){this.showDevice()},methods:{showDevice:function(){var t=this;this.$http("/device/showDevice",{deviceId:this.deviceId}).then((function(e){200==e.code&&(t.hotName=e.data.hotName,t.roomId=e.data.roomId)}))}}},c=s,l=(i("8c3d"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"7f6f2e74",null);e["default"]=u.exports},9661:function(t,e,i){"use strict";i("46a2")},9956:function(t,e,i){"use strict";i("925b")},"99af":function(t,e,i){"use strict";var n=i("23e7"),a=i("d039"),r=i("e8b5"),o=i("861d"),s=i("7b0b"),c=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),h=i("2d00"),m=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",g=h>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},w=!g||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,i,n,a,r,o=s(this),d=u(o,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],C(r)){if(a=c(r.length),f+a>p)throw TypeError(v);for(i=0;i<a;i++,f++)i in r&&l(d,f,r[i])}else{if(f>=p)throw TypeError(v);l(d,f++,r)}return d.length=f,d}})},"9b50":function(t,e,i){"use strict";i("85ab")},"9bdd":function(t,e,i){var n=i("825a"),a=i("2a62");t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(o){throw a(t),o}}},"9bfc":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"充电详情","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"charge-detail"},[i("div",{staticClass:"top-img"}),i("div",{staticClass:"detail-center"},[i("div",{staticClass:"title"},[t._v("充电器解锁密码")]),i("div",{staticClass:"tips"},[t._v("请在充电器键盘中依次输入以下密码即可充电")]),i("div",{staticClass:"password"},t._l(t.pwdArr,(function(e){return i("div",[t._v(t._s(e))])})),0)]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{color:"#D4AD6A"},on:{click:t.updatePassword}},[t._v("更新密码")]),i("van-button",{staticClass:"btn",attrs:{color:"#D4AD6A"},on:{click:function(e){return t.$router.push("/fault")}}},[t._v("故障上报")])],1)])],1)},a=[],r=(i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("2f14")),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{olId:Object(r["a"])("olId"),pwdArr:[],beforeUrl:"",clock:0}},created:function(){this.showOrderlist()},mounted:function(){1==this.$route.query.updatePassword&&this.updatePassword()},methods:{updatePassword:function(){var t=this;0==this.clock&&(this.clock=1,this.$http("/orderlist/updatePassword",{olId:this.olId}).then((function(e){t.clock=0,200==e.code?(t.pwdArr=e.data.password.toString().split(""),t.$toast.success(e.msg)):t.$toast.fail(e.msg)})))},showOrderlist:function(){var t=this;this.$http("/orderlist/showOrderlist",{olId:this.olId}).then((function(e){200==e.code&&(t.pwdArr=e.data.password.toString().split(""))}))}}},c=s,l=(i("e4bc"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"287e4968",null);e["default"]=u.exports},"9e7e":function(t,e,i){},a630:function(t,e,i){var n=i("23e7"),a=i("4df4"),r=i("1c7e"),o=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:a})},a9e3:function(t,e,i){"use strict";var n=i("83ab"),a=i("da84"),r=i("94ca"),o=i("6eeb"),s=i("5135"),c=i("c6b6"),l=i("7156"),u=i("c04e"),d=i("d039"),f=i("7c73"),h=i("241c").f,m=i("06cf").f,p=i("9bf2").f,v=i("58a8").trim,g="Number",b=a[g],C=b.prototype,w=c(f(C))==g,y=function(t){var e,i,n,a,r,o,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(i=l.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(r=l.slice(2),o=r.length,s=0;s<o;s++)if(c=r.charCodeAt(s),c<48||c>a)return NaN;return parseInt(r,n)}return+l};if(r(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var _,x=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof x&&(w?d((function(){C.valueOf.call(i)})):c(i)!=g)?l(new b(y(e)),i,x):y(e)},I=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;I.length>S;S++)s(b,_=I[S])&&!s(x,_)&&p(x,_,m(b,_));x.prototype=C,C.constructor=x,o(a,g,x)}},aa79:function(t,e,i){},ae40:function(t,e,i){var n=i("83ab"),a=i("d039"),r=i("5135"),o=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(r(s,t))return s[t];e||(e={});var i=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:c,d=r(e,1)?e[1]:void 0;return s[t]=!!i&&!a((function(){if(l&&!n)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,u,d)}))}},b0c0:function(t,e,i){var n=i("83ab"),a=i("9bf2").f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in r)&&a(r,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b140:function(t,e,i){},b45c:function(t,e,i){t.exports=i.p+"img/empty.b62f2c4b.png"},ba7b:function(t,e,i){},bb51:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"home-bgc"},[i("div",{staticClass:"top"},[i("div",{staticClass:"name"},[t._v("米京全类型快速充电")]),i("div",{staticClass:"my-order",on:{click:function(e){return t.$router.push("/order")}}},[t._v("我的订单")])])]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"select-box"},[i("div",{staticClass:"title"},[t._v("请选择充电时长：")]),i("van-radio-group",{staticClass:"my-radio-group",model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},t._l(t.list,(function(e){return i("van-radio",{key:e.id,staticClass:"my-radio",attrs:{name:e.id,"checked-color":"#D4AD6A"}},[t._v(" 支付费用"),i("span",{staticClass:"red"},[t._v(" "+t._s(e.price)+" ")]),t._v("元，充电"),i("span",{staticClass:"yellow"},[t._v(" "+t._s(e.hours)+" ")]),t._v("小时 ")])})),1)],1),i("div",{staticClass:"vip"},[i("div",{staticClass:"vip-img",on:{click:t.cbtxLogin}},[i("div",{staticClass:"cbtx-vip"},[t._v("藏宝天下会员")]),i("div",{staticClass:"free"},[t._v("免费充电")])])]),1==t.state?i("van-button",{staticClass:"btn",attrs:{color:"#D4AD6A",block:""},on:{click:t.submit}},[t._v("开始充电")]):2==t.state?i("van-button",{staticClass:"btn",attrs:{color:"#D4AD6A",block:""},on:{click:function(e){return t.$router.push("/ChargeDetails")}}},[t._v("充电中 ")]):t._e(),i("div",{staticClass:"tips"},[t._v("登录或注册会员即可享受会员免费充电服务")])],1)])},a=[],r=(i("ac1f"),i("1276"),i("2f14")),o=i("e96b"),s={data:function(){return{id:"",state:"",mobile:Object(r["a"])("mobile"),role:Object(r["a"])("role"),deviceId:Object(r["a"])("deviceId"),list:[],isRegistered:"",obj:{},signData:{}}},watch:{list:function(){this.id=this.list[0].id}},created:function(){this.getCost(),this.showDevice()},methods:{cbtxLogin:function(){Object(r["d"])("id",this.id),Object(r["d"])("isCbtx",1),2==this.state?this.$router.push("/ChargeDetails"):this.mobile||1!=this.role||1!=this.state?this.mobile&&1==this.role&&1==this.state&&this.$router.push("/cbtxLogin"):this.$router.push("/bindPhone")},getCost:function(){var t=this;this.$http("/orderlist/getCost").then((function(e){200==e.code&&(t.list=e.data)}))},showDevice:function(){var t=this;this.$http("/device/showDevice",{deviceId:this.deviceId}).then((function(e){200==e.code&&(t.state=e.data.state,""!=e.data.registerUid?t.isRegistered=1:t.isRegistered=2,Object(r["d"])("isRegistered",t.isRegistered))}))},getConfig:function(){var t=this;this.$http("/userinfo/getConfig",{url:window.location.href.split("#")[0]}).then((function(e){200==e.code&&(t.obj=e.data,t.insertOrderlist())}))},insertOrderlist:function(){var t=this;this.$http("/orderlist/insertOrderlist",{deviceId:this.deviceId,id:this.id}).then((function(e){200==e.code&&(t.signData=e.data,Object(o["a"])(t.obj,t.signData,t))}))},submit:function(){Object(r["d"])("id",this.id),Object(r["d"])("isCbtx",2),this.mobile?1==this.isRegistered&&2==this.role?this.$router.push("/registered"):2==this.isRegistered&&2==this.role?this.$router.push("/equipmentRegister"):1==this.role&&this.getConfig():this.$router.push("/bindPhone")}}},c=s,l=(i("8082"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"e2d16c36",null);e["default"]=u.exports},c8d2:function(t,e,i){var n=i("d039"),a=i("5899"),r="​᠎";t.exports=function(t){return n((function(){return!!a[t]()||r[t]()!=r||a[t].name!==t}))}},c9d0:function(t,e,i){t.exports=i.p+"img/fault1.3a343b43.png"},ca64:function(t,e,i){"use strict";i("19fa")},ce4ef:function(t,e,i){},cf2a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order"},[n("van-nav-bar",{attrs:{title:"我的订单",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),n("div",{staticClass:"content"},[n("van-pull-refresh",{staticClass:"list",on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.handleScroll},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.list,(function(e){return n("div",{key:e.olId,staticClass:"order-item"},[n("div",{staticClass:"order-num common"},[n("span",{staticClass:"order-title"},[t._v("订单号：")]),n("span",{staticClass:"text"},[t._v(t._s(e.olId))])]),n("div",{staticClass:"common"},[n("span",{staticClass:"title"},[t._v("使用时长：")]),n("span",{staticClass:"text"},[t._v(t._s(e.usertime))])]),n("div",{staticClass:"common"},[n("span",{staticClass:"title"},[t._v("创建时间：")]),n("span",{staticClass:"text"},[t._v(t._s(e.olTime))])]),n("div",{staticClass:"status float-right"},[1==e.olState?n("span",{staticClass:"using"},[t._v("未付款")]):2==e.olState?n("span",{staticClass:"using"},[t._v("使用中")]):3==e.olState?n("span",{staticClass:"used"},[t._v("已完成")]):n("span",{staticClass:"used"},[t._v("已退款")])]),n("div",{staticClass:"info float-right",on:{click:function(i){return t.$router.push({path:"/usingRecord",query:{olId:e.olId}})}}},[t._v("查看详情")])])})),1==t.isEmpty?n("div",{staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}},[n("img",{attrs:{src:i("b45c"),alt:""}}),n("div",{staticStyle:{"text-align":"center",color:"#aaa","font-size":"16px"}},[t._v("暂无数据")])]):t._e(),2==t.isEmpty?n("div",{staticStyle:{"text-align":"center",color:"#aaa","font-size":"16px",padding:"10px"}},[t._v("暂无更多数据")]):t._e()],2)],1)],1)],1)},a=[],r=(i("99af"),i("2909")),o=i("3d93"),s={mixins:[o["a"]],data:function(){return{PageNumber:1,PageSize:10,isEmpty:0,clock:0,isLoading:!1,loading:!1,finished:!1,list:[]}},created:function(){this.getOrderlist()},methods:{getOrderlist:function(){var t=this;this.loading=!0,this.$http("/orderlist/getOrderlist",{PageNumber:this.PageNumber,PageSize:this.PageSize}).then((function(e){200==e.code&&(t.clock=1,t.loading=!1,t.list=[].concat(Object(r["a"])(t.list),Object(r["a"])(e.data)),t.PageSize!=e.data.length&&(0==e.data.length?t.isEmpty=1:t.isEmpty=2,t.finished=!0))}))},handleScroll:function(){var t=this;1==this.clock&&(this.clock=2,this.loading=!0,this.$http("/orderlist/getOrderlist",{PageNumber:++this.PageNumber,PageSize:this.PageSize}).then((function(e){200==e.code&&(t.clock=1,t.loading=!1,t.list=[].concat(Object(r["a"])(t.list),Object(r["a"])(e.data)),t.PageSize>e.data.length&&(t.isEmpty=2,t.finished=!0))})))},onRefresh:function(){this.PageNumber=1,this.isEmpty=0,this.isLoading=!1,this.finished=!1,this.list=[],this.getOrderlist()}}},c=s,l=(i("9661"),i("2877")),u=Object(l["a"])(c,n,a,!1,null,"5586c08c",null);e["default"]=u.exports},cfd7:function(t,e,i){},d855:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"找回伯乐号",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/findNum")}}}),i("div",{staticClass:"num-list"},[t._m(0),i("div",{staticClass:"list"},[i("div",{staticClass:"mobile-num"},[t._v(t._s(t.mobile)+"下所有伯乐号")]),i("div",{staticClass:"border"},[t._m(1),i("div",{staticClass:"my-list"},[i("van-pull-refresh",{staticClass:"my-list",on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.getMemberNo},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e){return i("div",{key:e.id,staticClass:"item"},[i("div",[t._v(t._s(e.fullname))]),i("div",[t._v(t._s(e.username))]),i("div",[t._v(t._s(t._f("formateTime")(e.createtime)))])])})),0),0==t.total?i("div",{staticClass:"empty"},[t._v("该手机号码未注册伯乐号")]):t._e()],1)],1)])]),i("div",{staticClass:"download-box"},[0==t.total?i("div",{on:{click:function(e){return t.$router.push("/cbtxRegister")}}},[t._v("前往注册")]):i("div",{on:{click:function(e){return t.$router.push("/cbtxLogin")}}},[t._v("前往登录")]),"android"==t.type?i("a",{attrs:{href:t.url1,download:""},on:{click:t.downloadApp}},[t._v("下载App")]):"ios"==t.type?i("a",{attrs:{href:t.url2},on:{click:t.downloadApp}},[t._v("下载APP")]):t._e()])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo-box"},[i("div",{staticClass:"mgkc-logo"}),i("div",[t._v("藏宝天下")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-title"},[i("div",[t._v("姓名")]),i("div",[t._v("伯乐号")]),i("div",[t._v("注册时间")])])}],r=(i("99af"),i("ac1f"),i("5319"),i("1276"),i("2909")),o=(i("2f14"),{data:function(){return{type:"",url1:"",url2:"",pageNum:0,pageSize:4,isLoading:!1,loading:!1,finished:!1,list:[],smsCode:this.$route.query.smsCode,mobile:this.$route.query.mobile,total:0}},filters:{formateTime:function(t){return t.split(" ")[0]}},created:function(){var t=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(t)?this.type="ios":/android/.test(t)&&(this.type="android")},methods:{downloadApp:function(){"ios"==this.type?this.url2="https://apps.apple.com/cn/app/id1481780101?l=zh&amp;ls=1":this.url1="http://app.mi.com/details?id=com.txcbapp&amp;ref=search"},getMemberNo:function(){var t=this;this.loading=!0;var e=this.smsCode.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");this.$http("/orderlist/getMemberNo",{mobile:this.mobile,smsCode:e,pageNum:++this.pageNum,pageSize:this.pageSize}).then((function(e){200==e.code?(t.loading=!1,t.total=e.data.total,t.list=[].concat(Object(r["a"])(t.list),Object(r["a"])(e.data.data)),0==e.data.data.length&&(t.finished=!0)):(t.loading=!1,t.finished=!0,t.$toast.fail(e.msg))}))},onRefresh:function(){this.pageNum=0,this.isLoading=!1,this.finished=!1,this.list=[],this.getMemberNo()}}}),s=o,c=(i("8453"),i("2877")),l=Object(c["a"])(s,n,a,!1,null,"1a8984d7",null);e["default"]=l.exports},d954:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"record"},[i("van-nav-bar",{attrs:{title:"订单详情","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"record-item"},[i("div",{staticClass:"record-num common"},[i("span",{staticClass:"record-title"},[t._v("订单号：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.olId))])]),i("div",{staticClass:"common"},[i("span",{staticClass:"title"},[t._v("使用时长：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.usertime))])]),i("div",{staticClass:"common"},[i("span",{staticClass:"title"},[t._v("创建时间：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.olTime))])]),i("div",{staticClass:"common"},[i("span",{staticClass:"title"},[t._v("产生资费：")]),i("span",{staticClass:"text"},[t._v(t._s(t.info.olPrice)+"元")])]),i("div",{staticClass:"common"},[i("span",{staticClass:"title"},[t._v("订单状态：")]),1==t.info.olState?i("span",{staticClass:"text"},[t._v("未支付")]):2==t.info.olState?i("span",{staticClass:"text"},[t._v("使用中")]):3==t.info.olState?i("span",{staticClass:"text"},[t._v("已完成")]):4==t.info.olState?i("span",{staticClass:"text"},[t._v("已退款")]):t._e()])])])],1)},a=[],r={data:function(){return{olId:this.$route.query.olId,info:{}}},created:function(){this.showOrderlist()},methods:{showOrderlist:function(){var t=this;this.$http("/orderlist/showOrderlist",{olId:this.olId}).then((function(e){200==e.code&&(t.info={deviceId:e.data.deviceId,usertime:e.data.usertime,olTime:e.data.olTime,olPrice:e.data.olPrice,olState:e.data.olState,olId:e.data.olId})}))}}},o=r,s=(i("7090"),i("2877")),c=Object(s["a"])(o,n,a,!1,null,"6810006c",null);e["default"]=c.exports},db6d:function(t,e,i){"use strict";i("cfd7")},df72:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"设备注册","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/home")}}}),i("div",{staticClass:"register"},[i("div",{staticClass:"item"},[i("span",{staticClass:"title"},[t._v("所属项目：")]),i("MySelect",{attrs:{placeholder:"请选择",selectValue:t.hotId,columns:t.list,option:{label:"hotName",value:"hotId"}},on:{confirm:t.onConfirm},model:{value:t.hotId,callback:function(e){t.hotId=e},expression:"hotId"}})],1),i("div",{staticClass:"item"},[i("span",{staticClass:"title"},[t._v("SN码：")]),i("span",[t._v(t._s(t.deviceId))])]),i("div",{staticClass:"item"},[i("span",{staticClass:"title"},[t._v("房间号：")]),i("van-field",{staticClass:"my-field",attrs:{maxlength:"20",size:"small",placeholder:"请输入房间号"},on:{change:t.validateRoomID},model:{value:t.roomId,callback:function(e){t.roomId=e},expression:"roomId"}})],1),i("div",{staticClass:"err-msg"},[t._v(t._s(t.errorMsg))]),i("div",{staticClass:"btns"},[i("van-button",{staticClass:"btn",attrs:{block:"",color:"#D4AD6A"},on:{click:t.submit}},[t._v("注册")])],1)])],1)},a=[],r=(i("ac1f"),i("5319"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-field"},[i("van-field",{staticClass:"font",attrs:{readonly:""},on:{click:function(e){t.show=!t.show}},model:{value:t.resultLabel,callback:function(e){t.resultLabel=e},expression:"resultLabel"}}),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("van-picker",t._b({staticClass:"picker",attrs:{columns:t.columns,"item-height":"44px","default-index":t.selectValue,"show-toolbar":"","value-key":t.option.label},on:{cancel:t.cancel,confirm:t.onConfirm,change:t.change}},"van-picker",t.$attrs,!1))],1)],1)}),o=[],s=(i("4de4"),i("a9e3"),{name:"VanFieldSelectPicker",model:{prop:"selectValue"},props:{errMsg:{type:String},columns:{type:Array,default:function(){return[]}},selectValue:{type:[String,Number],default:""},option:{type:Object,default:function(){return{label:"label",value:"value"}}}},computed:{resultLabel:{get:function(){var t=this,e=this.columns.filter((function(e){return e[t.option.value]==t.resultValue}));return e.length?e[0][this.option.label]:""},set:function(){}}},data:function(){return{show:!1,resultValue:this.selectValue}},methods:{onConfirm:function(t,e){console.log(t,e),this.resultValue=t[this.option.value],this.show=!this.show,this.$emit("confirm",t,e,this.resultValue)},change:function(t,e){this.$emit("change",t,e,this.resultValue)},cancel:function(t,e){this.show=!this.show,this.$emit("cancel",t,e,this.resultValue)}},watch:{selectValue:function(t){this.resultValue=t},resultValue:function(t){this.$emit("input",t)}}}),c=s,l=(i("6b09"),i("2877")),u=Object(l["a"])(c,r,o,!1,null,"15cd5364",null),d=u.exports,f=i("2f14"),h=i("3d93"),m={mixins:[h["a"]],data:function(){return{hotId:"",roomId:"",show:!1,errorMsg:"",list:[],deviceId:Object(f["a"])("deviceId"),timer:null}},watch:{roomId:function(){this.roomId=this.roomId.replace(/[^a-zA-Z0-9\u4E00-\u9FA5]/g,"")}},created:function(){this.getHotel(),this.showDevice()},methods:{validateRoomID:function(){return""==this.roomId?(this.errorMsg="房间号不能为空",!1):(this.errorMsg="",!0)},showDevice:function(){var t=this;this.$http("/device/showDevice",{deviceId:this.deviceId}).then((function(e){200==e.code&&(t.roomId=e.data.roomId,t.hotId=e.data.hotId)}))},onConfirm:function(t){this.hotId=t.hotId},getHotel:function(){var t=this;this.$http("/device/getHotel").then((function(e){200==e.code&&(t.list=e.data)}))},submit:function(){var t=this;if(""==this.hotId)return this.$toast.fail("所属项目不能为空"),!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){if(t.validateRoomID()){var e=t.roomId.replace(/[ ]/g,"").replace(/[\r\n]/g,"").replace(/\u2006/g,"");t.$http("/device/updateDevice",{deviceId:t.deviceId,roomId:e,hotId:t.hotId}).then((function(e){if(t.clock=0,200==e.code){t.$toast.success(e.msg);var i={deviceId:Object(f["a"])("deviceId"),registerNumber1:e.data.registerNumber1,registerNumber2:e.data.registerNumber2,roomId:e.data.roomId,hotName:e.data.hotName};t.$router.push({path:"/registerSuccess",query:i})}else t.$toast.fail(e.msg)}))}}),1e3)}},components:{MySelect:d}},p=m,v=(i("1e21"),Object(l["a"])(p,n,a,!1,null,"0cce2078",null));e["default"]=v.exports},e281:function(t,e,i){"use strict";i("0fc2")},e4bc:function(t,e,i){"use strict";i("7069")},e96b:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7");var n=i("2f14");function a(t){wx.config({debug:!1,appId:t.appid,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseWXPay"]})}function r(t,e,i){var r=i;return new Promise((function(i,o){a(t),wx.ready((function(){wx.checkJsApi({jsApiList:["chooseWXPay"],success:function(t){0!=t.checkResult.getLocation?wx.chooseWXPay({timestamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign,success:function(t){Object(n["d"])("olId",e.olId),r.$router.push({path:"/chargeDetails"}),i(t)},fail:function(t){r.$router.push({path:"/home"}),console.log("check api fail:",err)}}):alert("你的微信版本太低，不支持微信JS接口，请升级到最新的微信版本！")},error:function(t){console.log(t)}})}))}))}},e989:function(t,e,i){"use strict";i("2541")},ef12:function(t,e,i){t.exports=i.p+"img/fault3.c73523f5.png"},fb6a:function(t,e,i){"use strict";var n=i("23e7"),a=i("861d"),r=i("e8b5"),o=i("23cb"),s=i("50c4"),c=i("fc6a"),l=i("8418"),u=i("b622"),d=i("1dde"),f=i("ae40"),h=d("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),v=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!h||!m},{slice:function(t,e){var i,n,u,d=c(this),f=s(d.length),h=o(t,f),m=o(void 0===e?f:e,f);if(r(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?a(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(d,h,m);for(n=new(void 0===i?Array:i)(g(m-h,0)),u=0;h<m;h++,u++)h in d&&l(n,u,d[h]);return n.length=u,n}})},fbb7:function(t,e,i){},fcfa:function(t,e,i){"use strict";i("b140")}}]);